# Qlip インストーラ（GUI）

このリポジトリ（`orarange/Qlip`）は **インストーラ用** です。
プログラム本体のソースは別リポジトリ（`orarange/Qlip-src`）に置く想定です。

エンドユーザー向け: `QlipSetup_...exe` は GUI ウィザード形式で、
- 進行状況表示
- 利用規約(EULA)の同意
- 第三者ライセンス通知
を表示してインストールします。

## 使い方（エンドユーザー向け）

### 1) インストール

1. GitHub の Releases から `QlipSetup_...exe` をダウンロードします。
2. ダウンロードしたEXEを実行し、ウィザードに従ってインストールします。
3. インストール後、スタートメニューの **Qlip** を起動します。

※ 現在の配布は「EXE単体で完結する同梱型（オフライン）インストーラ」です。通常、別途 zip をダウンロードする必要はありません。

### 2) 基本操作（Instant Replay）

Qlip は「常に録画し続けて、必要な瞬間だけ“直近N秒”を保存する」タイプのアプリです。

- **開始**: 録画バッファを開始します（ステータスが「録画中」になります）
- **保存**: 録画を止めずに、直近N秒を `mp4` として保存します
- **設定**: 画質・音声・保存先・リプレイ秒数などを変更します

保存に成功すると、ステータスに `保存: Replay_yyyyMMdd_HHmmss.mp4` のように表示されます。

### 3) 保存される場所

- 既定: Windowsの「ビデオ」フォルダ配下
- 保存先(ベース) を `設定` で変更できます
- 実際の保存先は「当日フォルダ」にまとめます
  - 例: `...\ビデオ\yy-MM-dd-replay\Replay_yyyyMMdd_HHmmss.mp4`

### 4) 設定項目

- **画質**: 高/標準/低/カスタム（ビットレートとFPS）
- **リプレイ秒数**: 保存する“直近N秒”（5〜600秒）
- **システム音 / マイク**: 収録する音声の種類
- **出力デバイス / 入力デバイス**: 収録対象のデバイス（(既定) を選べます）

※ 画質を上げるほどPC負荷とディスク使用量が増えます。カクつく場合は「低」やFPS/ビットレートを下げてください。

### 5) 終了・常駐

- ウィンドウ右上の **×** は「終了」ではなく「非表示（トレイへ）」です。
- 完全に終了したい場合は、タスクトレイの Qlip アイコンを右クリックして **終了** を選びます。

### 6) 設定の保存場所（リセットしたいとき）

設定は次のファイルに保存されます。

- `%APPDATA%\InstantReplayApp\settings.yaml`

このファイルを削除すると、設定は初期化されます。

### 7) トラブルシューティング

- **保存ボタンが押せない**: 先に **開始** を押して「録画中」にしてください。
- **音が入らない**: `設定` で「システム音/マイク」が有効か、デバイス選択が適切か確認してください。
- **保存に失敗する / ffmpeg が見つからない**:
  - 通常は同梱の `ffmpeg\ffmpeg.exe` を使います。
  - もし見つからない場合は、環境変数 `QLIP_FFMPEG_PATH` に `ffmpeg.exe` のフルパス（または格納フォルダ）を指定してください。

